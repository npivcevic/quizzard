<div class="main-frame">
    <div class="body">

        <div *ngIf="!isConnectedToQuiz()" class="join-group-code">
            <mat-card class="join-group-code-card-title">
                <mat-card-title style="text-align: center;">
                    <mat-card>
                        Prijavi se
                    </mat-card>
                </mat-card-title>
                <mat-card-content>
                    <mat-card class="enter-credentials-card">
                        <div>
                            <mat-form-field style="width: 100%; text-align: center;" appearance="outline">
                                <input matInput placeholder="Unesi kod" name="quizGroupNameInput"
                                    [(ngModel)]="quizGroupNameInput" required>
                            </mat-form-field>
                            <br />
                            <mat-form-field style="width: 100%; text-align: center;" appearance="outline">
                                <input matInput placeholder="Unesi ime" name="playerNameInput"
                                    [(ngModel)]="playerNameInput" required>
                            </mat-form-field>
                            <br />
                            <button class="join-group-button" color="primary" mat-stroked-button
                                (click)="joinQuiz()">Join Quiz</button>
                        </div>
                    </mat-card>
                </mat-card-content>
            </mat-card>
        </div>

        <div *ngIf="isWaitingForStart()">
            <mat-card style="text-align: center;">
                <mat-card-title>
                    <strong>
                        {{ quizPlayerService.quizData.playerName }}, hvala ti na prijavi
                        <br>
                        Molim te sačekaj početak igre
                    </strong>
                </mat-card-title>
            </mat-card>
        </div>

        <div *ngIf="isQuizInProgress()">
            <mat-card *ngIf="quizPlayerService.quizData.currentQuestion">
                <mat-card class="questionTitleCard">
                    <app-spinner [time]="quizPlayerService.currentSpinnerTimeout"
                        [text]="quizPlayerService.currentSpinnerText">
                    </app-spinner>
                    <div class="questionText">
                        {{quizPlayerService.quizData.currentQuestion.text}}
                    </div>
                </mat-card>
                <div style="display: flex; flex-wrap: wrap; ">
                    <div *ngFor="let answer of quizPlayerService.quizData.currentQuestion.answers; let i = index"
                        style="width: 50%;">
                        <mat-card>
                            <button style="width: 100%;" [class]="answerStyle(answer.id!)" mat-stroked-button
                                [disabled]="!isPossibleToAnswer()" (click)="sendAnswerToHost(answer.id)">
                                {{answer.text}}
                            </button>
                        </mat-card>
                    </div>
                </div>
            </mat-card>
        </div>

        <div *ngIf="isQuizEnd()">
            <mat-card style="text-align: center;">
                <mat-card-title>
                    <strong>
                        {{ quizPlayerService.quizData.playerName }}, hvala ti na odigranoj igri
                        <br>
                        Molim te sačekaj početak nove igre
                    </strong>
                </mat-card-title>
                <mat-card-content *ngIf="quizPlayerService.quizData.playerScore">
                    <strong>Ovdje možeš vidjeti svoje odogovore:</strong>
                    <br />
                    <div style="display: flex;" *ngFor="let answer of quizPlayerService.quizData.playerScore">
                        <div style="border: solid;">
                            <strong>{{answer.questionText}}</strong>
                        </div>
                        <div style="border: solid;"
                            [ngStyle]="{background: answer.isCorrect===true? 'rgb(153, 211, 153)' : 'rgb(236, 157, 157)'}">
                            <strong>{{answer.answerText}}</strong>
                        </div>
                    </div>
                </mat-card-content>
            </mat-card>
        </div>

    </div>
</div>